/*
 * Copyright OpenSearch Contributors
 * SPDX-License-Identifier: Apache-2.0
 */

$customSize10: 10px;

.queryPanel__editorArea {

  /* stylelint-disable-next-line @osd/stylelint/no_restricted_properties */
  flex: 1;
  padding: 0;
  background-color: $euiColorEmptyShade;
  border-radius: $euiBorderRadiusSmall;

  .promptEditorWrapper {
    position: relative;

    .promptEditor {
      border-radius: $euiBorderRadiusSmall;

      .monaco-editor .overflow-guard {
        border: $euiBorderThin;
      }

      .monaco-editor .view-overlays .current-line {
        border: none;
      }

      .monaco-editor {
        .margin {
          .glyph-margin {
            background: white;
            width: $customSize10 !important;
          }
        }
      }

      .monaco-scrollable-element {
        border-radius: 0 $euiSizeXS 0 0;
        left: $customSize10 !important; // Adjust left position to account for glyph margin
      }

      .monaco-editor,
      .monaco-editor-background,
      .monaco-editor .inputarea.ime-input,
      .monaco-editor .decorationsOverviewRuler {
        background-color: $euiColorEmptyShade;
      }

      &.promptEditor--readonly {
        .monaco-editor,
        .react-monaco-editor-container {
          background-color: $euiColorLightShade !important;
          opacity: 0.5;
          pointer-events: none;
        }

        .monaco-editor .cursor {
          display: none !important;
        }
      }

      /* stylelint-disable  @osd/stylelint/no_restricted_values */
      &.promptEditor--focused::after {
        content: "";
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        height: 2px;
        background:
          linear-gradient(
            90deg,
            #005eb8 0%,
            #e47fb2 25%,
            #1f9eff 50%,
            #00d4aa 75%,
            #005eb8 100%
          );
        background-size: 200% 100%;
        animation: ai-mode 10s ease-in-out infinite;
        pointer-events: none;
        z-index: 2;
      }

      @keyframes ai-mode {
        0% {
          background-position: 0 50%;
        }

        50% {
          background-position: 100% 50%;
        }

        100% {
          background-position: 0 50%;
        }
      }

      .promptEditor__placeholder {
        color: $euiTextSubduedColor;
        position: absolute;
        top: $customSize10;
        left: $customSize10;
        font-size: $euiFontSizeXS;
        pointer-events: none;
        z-index: 1;
      }
    }
  }

  .queryEditorWrapper {
    position: relative;

    &--hidden {
      display: none;
    }

    .queryEditor {
      border: $euiBorderThin;
      border-radius: $euiBorderRadiusSmall;
      position: relative;

      .monaco-editor .view-overlays .current-line {
        border: none;
      }

      .monaco-editor {
        border-radius: $euiSizeXS $euiSizeXS 0 0;
        font-size: $euiFontSizeXS;

        .margin {
          border-radius: $euiSizeXS 0 0 0;
          background-color: $euiFormBackgroundColor;
          padding: 0 $euiSizeXS;
        }

        .monaco-scrollable-element {
          border-radius: 0 $euiSizeXS 0 0;
        }

        .view-lines {
          font-size: $euiFontSizeXS;
        }
      }

      .monaco-editor,
      .monaco-editor-background,
      .monaco-editor .inputarea.ime-input,
      .monaco-editor .decorationsOverviewRuler {
        background-color: $euiColorEmptyShade;
        font-size: $euiFontSizeXS;
      }

      &.queryEditor--readonly {
        .monaco-editor,
        .react-monaco-editor-container {
          background-color: $euiColorLightShade !important;
          opacity: 0.5;
          pointer-events: none;
        }

        .monaco-editor .cursor {
          display: none !important;
        }
      }

      &.queryEditor--focused {
        border-bottom: 1px solid $euiColorPrimary;
      }

      .queryEditor__placeholder {
        position: absolute;
        top: $customSize10;
        left: 28px;
        color: $euiTextSubduedColor;
        font-size: $euiFontSizeXS;
        pointer-events: none;
        z-index: 1;
      }
    }
  }
}
