@startuml
title: Proposed Saved Object Service Flow
actor User
participant "Saved Object Client" as Client
participant "Repository Factory Provider" as Factory
participant "Repository\n(e.g. SavedObjectRepository,\nPostgresRepository,\nDynamoDBRepository)" as Repo
participant "Metadata Storage\n(e.g. OpenSearch,\nPostgres, DynamoDB etc)" as Meta

autonumber
User -> Client: Create Saved Object
Client -> Factory: Get Repository
Factory -> Client: Returns Repository to manage Saved Objects
Client -> Repo: Create Saved Object
Repo -> Meta: Create/Update Record
Meta --> Repo: Saved Object Saved
Client -> User: Saved Object Created
User -> Client: Get Saved Object
Client -> Factory: Get Repository
Factory -> Client: Returns Repository to manage Saved Objects
Client -> Repo: Get Saved Object
Repo -> Meta: Fetch Saved Object from storage
Meta --> Repo: Return Saved Object
Repo -> Client: Return Saved Object
Client -> User: Saved Object Data
@enduml