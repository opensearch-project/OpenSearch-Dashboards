/* Define --rem that Tailwind v4 prefix(osd) fails to emit as a CSS custom property.
   Without this, --osd-spacing = calc(var(--rem) * 0.25) resolves to nothing,
   breaking all Tailwind spacing utilities (padding, width, gap, etc.). */
:root {
  --rem: 16px;
}

/* Inherit color-scheme from :root so that CSS light-dark() resolves correctly.
   OSD sets :root { color-scheme: light|dark } based on the user's theme preference
   (see startup.js.hbs). The topology map inherits this value, and all light-dark()
   variable definitions in Celestial.css automatically resolve to the correct mode. */

.celContainer {
  display: flex;
  flex-direction: column;
  gap: 8px;
  height: 100vh;
  min-height: 0;
}

.celMapContainer {
  width: 100%;
  flex: 1;
  min-height: 0;
}

/* Dark mode: invert SVG icons loaded via <img> from black to white.
   SVGs with fill="currentColor" render as black in <img> isolation context.
   brightness(0) normalizes to pure black, then invert(1) flips to white.
   Uses :root.celestial--dark to cover portal-rendered content (e.g. LegendPanel)
   that lives outside the .celestial container in the DOM. */
:root.celestial--dark .celIcon {
  filter: brightness(0) invert(1);
}

/* Suppress the global EUI focus-ring animation inside the topology map.
   OSD's _base.scss applies `animation: focusRingAnimate !important` to every
   :focus element that lacks an "eui" class prefix or `osd-resetFocusState`.
   ReactFlow generates internal wrapper divs (react-flow__node, react-flow__pane,
   etc.) that are focusable but cannot be decorated with `osd-resetFocusState`,
   so we suppress the animation for the entire container. */
.celContainer :focus {
  animation: none !important;
}
