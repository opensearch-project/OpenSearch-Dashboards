// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`builds expected bundles, saves bundle counts to metadata: OptimizerConfig 1`] = `
OptimizerConfig {
  "bundles": Array [
    Bundle {
      "banner": undefined,
      "cache": BundleCache {
        "path": <absolute path>/packages/osd-optimizer/src/__fixtures__/__tmp__/mock_repo/plugins/bar/target/public/.osd-optimizer-cache,
        "state": undefined,
      },
      "contextDir": <absolute path>/packages/osd-optimizer/src/__fixtures__/__tmp__/mock_repo/plugins/bar,
      "id": "bar",
      "manifestPath": <absolute path>/packages/osd-optimizer/src/__fixtures__/__tmp__/mock_repo/plugins/bar/opensearch_dashboards.json,
      "outputDir": <absolute path>/packages/osd-optimizer/src/__fixtures__/__tmp__/mock_repo/plugins/bar/target/public,
      "publicDirNames": Array [
        "public",
      ],
      "sourceRoot": <absolute path>/packages/osd-optimizer/src/__fixtures__/__tmp__/mock_repo,
      "type": "plugin",
    },
    Bundle {
      "banner": undefined,
      "cache": BundleCache {
        "path": <absolute path>/packages/osd-optimizer/src/__fixtures__/__tmp__/mock_repo/plugins/foo/target/public/.osd-optimizer-cache,
        "state": undefined,
      },
      "contextDir": <absolute path>/packages/osd-optimizer/src/__fixtures__/__tmp__/mock_repo/plugins/foo,
      "id": "foo",
      "manifestPath": <absolute path>/packages/osd-optimizer/src/__fixtures__/__tmp__/mock_repo/plugins/foo/opensearch_dashboards.json,
      "outputDir": <absolute path>/packages/osd-optimizer/src/__fixtures__/__tmp__/mock_repo/plugins/foo/target/public,
      "publicDirNames": Array [
        "public",
      ],
      "sourceRoot": <absolute path>/packages/osd-optimizer/src/__fixtures__/__tmp__/mock_repo,
      "type": "plugin",
    },
  ],
  "cache": true,
  "dist": false,
  "inspectWorkers": false,
  "limits": "<Limits>",
  "maxWorkerCount": 1,
  "plugins": Array [
    Object {
      "directory": <absolute path>/packages/osd-optimizer/src/__fixtures__/__tmp__/mock_repo/plugins/bar,
      "extraPublicDirs": Array [],
      "id": "bar",
      "isUiPlugin": true,
      "manifestPath": <absolute path>/packages/osd-optimizer/src/__fixtures__/__tmp__/mock_repo/plugins/bar/opensearch_dashboards.json,
    },
    Object {
      "directory": <absolute path>/packages/osd-optimizer/src/__fixtures__/__tmp__/mock_repo/plugins/foo,
      "extraPublicDirs": Array [],
      "id": "foo",
      "isUiPlugin": true,
      "manifestPath": <absolute path>/packages/osd-optimizer/src/__fixtures__/__tmp__/mock_repo/plugins/foo/opensearch_dashboards.json,
    },
    Object {
      "directory": <absolute path>/packages/osd-optimizer/src/__fixtures__/__tmp__/mock_repo/plugins/nested/baz,
      "extraPublicDirs": Array [],
      "id": "baz",
      "isUiPlugin": false,
      "manifestPath": <absolute path>/packages/osd-optimizer/src/__fixtures__/__tmp__/mock_repo/plugins/nested/baz/opensearch_dashboards.json,
    },
  ],
  "profileWebpack": false,
  "repoRoot": <absolute path>/packages/osd-optimizer/src/__fixtures__/__tmp__/mock_repo,
  "themeTags": Array [
    "v7dark",
    "v7light",
    "v8dark",
    "v8light",
    "v9dark",
    "v9light",
  ],
  "watch": false,
}
`;

exports[`prepares assets for distribution: bar bundle 1`] = `"(()=>{var __webpack_modules__={92:function(module,__webpack_exports__,__webpack_require__){\\"use strict\\";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{\\"default\\":()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(445);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()(function(i){return i[1]});___CSS_LOADER_EXPORT___.push([module.id,\\"body{color:green}\\\\n\\",\\"\\"]);const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},806:function(module,__webpack_exports__,__webpack_require__){\\"use strict\\";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{\\"default\\":()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(445);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()(function(i){return i[1]});___CSS_LOADER_EXPORT___.push([module.id,\\"p{background-color:#639}body{width:10}\\\\n\\",\\"\\"]);const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},26:function(module,__webpack_exports__,__webpack_require__){\\"use strict\\";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{\\"default\\":()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(445);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()(function(i){return i[1]});___CSS_LOADER_EXPORT___.push([module.id,\\"body{color:green}\\\\n\\",\\"\\"]);const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},524:function(module,__webpack_exports__,__webpack_require__){\\"use strict\\";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{\\"default\\":()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(445);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()(function(i){return i[1]});___CSS_LOADER_EXPORT___.push([module.id,\\"p{background-color:#639}body{width:11}\\\\n\\",\\"\\"]);const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},167:function(module,__webpack_exports__,__webpack_require__){\\"use strict\\";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{\\"default\\":()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(445);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()(function(i){return i[1]});___CSS_LOADER_EXPORT___.push([module.id,\\"body{color:green}\\\\n\\",\\"\\"]);const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},309:function(module,__webpack_exports__,__webpack_require__){\\"use strict\\";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{\\"default\\":()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(445);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()(function(i){return i[1]});___CSS_LOADER_EXPORT___.push([module.id,\\"p{background-color:#639}body{width:12}\\\\n\\",\\"\\"]);const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},483:function(module,__webpack_exports__,__webpack_require__){\\"use strict\\";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{\\"default\\":()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(445);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()(function(i){return i[1]});___CSS_LOADER_EXPORT___.push([module.id,\\"body{color:green}\\\\n\\",\\"\\"]);const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},913:function(module,__webpack_exports__,__webpack_require__){\\"use strict\\";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{\\"default\\":()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(445);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()(function(i){return i[1]});___CSS_LOADER_EXPORT___.push([module.id,\\"p{background-color:#639}body{width:13}\\\\n\\",\\"\\"]);const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},274:function(module,__webpack_exports__,__webpack_require__){\\"use strict\\";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{\\"default\\":()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(445);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()(function(i){return i[1]});___CSS_LOADER_EXPORT___.push([module.id,\\"body{color:green}\\\\n\\",\\"\\"]);const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},816:function(module,__webpack_exports__,__webpack_require__){\\"use strict\\";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{\\"default\\":()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(445);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()(function(i){return i[1]});___CSS_LOADER_EXPORT___.push([module.id,\\"p{background-color:#639}body{width:14}\\\\n\\",\\"\\"]);const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},52:function(module,__webpack_exports__,__webpack_require__){\\"use strict\\";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{\\"default\\":()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(445);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()(function(i){return i[1]});___CSS_LOADER_EXPORT___.push([module.id,\\"body{color:green}\\\\n\\",\\"\\"]);const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},426:function(module,__webpack_exports__,__webpack_require__){\\"use strict\\";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{\\"default\\":()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(445);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()(function(i){return i[1]});___CSS_LOADER_EXPORT___.push([module.id,\\"p{background-color:#639}body{width:15}\\\\n\\",\\"\\"]);const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},445:function(module){\\"use strict\\";module.exports=function(cssWithMappingToString){var list=[];list.toString=function toString(){return this.map(function(item){var content=cssWithMappingToString(item);if(item[2]){return\\"@media \\".concat(item[2],\\" {\\").concat(content,\\"}\\")}return content}).join(\\"\\")};list.i=function(modules,mediaQuery,dedupe){if(typeof modules===\\"string\\"){modules=[[null,modules,\\"\\"]]}var alreadyImportedModules={};if(dedupe){for(var i=0;i<this.length;i++){var id=this[i][0];if(id!=null){alreadyImportedModules[id]=true}}}for(var _i=0;_i<modules.length;_i++){var item=[].concat(modules[_i]);if(dedupe&&alreadyImportedModules[item[0]]){continue}if(mediaQuery){if(!item[2]){item[2]=mediaQuery}else{item[2]=\\"\\".concat(mediaQuery,\\" and \\").concat(item[2])}}list.push(item)}};return list}},904:function(module,__unused_webpack_exports,__webpack_require__){var api=__webpack_require__(85);var content=__webpack_require__(92);content=content.__esModule?content.default:content;if(typeof content===\\"string\\"){content=[[module.id,content,\\"\\"]]}var options={};options.insert=\\"head\\";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},346:function(module,__unused_webpack_exports,__webpack_require__){var api=__webpack_require__(85);var content=__webpack_require__(806);content=content.__esModule?content.default:content;if(typeof content===\\"string\\"){content=[[module.id,content,\\"\\"]]}var options={};options.insert=\\"head\\";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},782:function(module,__unused_webpack_exports,__webpack_require__){var api=__webpack_require__(85);var content=__webpack_require__(26);content=content.__esModule?content.default:content;if(typeof content===\\"string\\"){content=[[module.id,content,\\"\\"]]}var options={};options.insert=\\"head\\";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},256:function(module,__unused_webpack_exports,__webpack_require__){var api=__webpack_require__(85);var content=__webpack_require__(524);content=content.__esModule?content.default:content;if(typeof content===\\"string\\"){content=[[module.id,content,\\"\\"]]}var options={};options.insert=\\"head\\";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},347:function(module,__unused_webpack_exports,__webpack_require__){var api=__webpack_require__(85);var content=__webpack_require__(167);content=content.__esModule?content.default:content;if(typeof content===\\"string\\"){content=[[module.id,content,\\"\\"]]}var options={};options.insert=\\"head\\";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},265:function(module,__unused_webpack_exports,__webpack_require__){var api=__webpack_require__(85);var content=__webpack_require__(309);content=content.__esModule?content.default:content;if(typeof content===\\"string\\"){content=[[module.id,content,\\"\\"]]}var options={};options.insert=\\"head\\";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},431:function(module,__unused_webpack_exports,__webpack_require__){var api=__webpack_require__(85);var content=__webpack_require__(483);content=content.__esModule?content.default:content;if(typeof content===\\"string\\"){content=[[module.id,content,\\"\\"]]}var options={};options.insert=\\"head\\";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},517:function(module,__unused_webpack_exports,__webpack_require__){var api=__webpack_require__(85);var content=__webpack_require__(913);content=content.__esModule?content.default:content;if(typeof content===\\"string\\"){content=[[module.id,content,\\"\\"]]}var options={};options.insert=\\"head\\";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},974:function(module,__unused_webpack_exports,__webpack_require__){var api=__webpack_require__(85);var content=__webpack_require__(274);content=content.__esModule?content.default:content;if(typeof content===\\"string\\"){content=[[module.id,content,\\"\\"]]}var options={};options.insert=\\"head\\";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},332:function(module,__unused_webpack_exports,__webpack_require__){var api=__webpack_require__(85);var content=__webpack_require__(816);content=content.__esModule?content.default:content;if(typeof content===\\"string\\"){content=[[module.id,content,\\"\\"]]}var options={};options.insert=\\"head\\";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},992:function(module,__unused_webpack_exports,__webpack_require__){var api=__webpack_require__(85);var content=__webpack_require__(52);content=content.__esModule?content.default:content;if(typeof content===\\"string\\"){content=[[module.id,content,\\"\\"]]}var options={};options.insert=\\"head\\";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},894:function(module,__unused_webpack_exports,__webpack_require__){var api=__webpack_require__(85);var content=__webpack_require__(426);content=content.__esModule?content.default:content;if(typeof content===\\"string\\"){content=[[module.id,content,\\"\\"]]}var options={};options.insert=\\"head\\";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},85:function(module,__unused_webpack_exports,__webpack_require__){\\"use strict\\";var isOldIE=function isOldIE(){var memo;return function memorize(){if(typeof memo===\\"undefined\\"){memo=Boolean(window&&document&&document.all&&!window.atob)}return memo}}();var getTarget=function getTarget(){var memo={};return function memorize(target){if(typeof memo[target]===\\"undefined\\"){var styleTarget=document.querySelector(target);if(window.HTMLIFrameElement&&styleTarget instanceof window.HTMLIFrameElement){try{styleTarget=styleTarget.contentDocument.head}catch(e){styleTarget=null}}memo[target]=styleTarget}return memo[target]}}();var stylesInDom=[];function getIndexByIdentifier(identifier){var result=-1;for(var i=0;i<stylesInDom.length;i++){if(stylesInDom[i].identifier===identifier){result=i;break}}return result}function modulesToDom(list,options){var idCountMap={};var identifiers=[];for(var i=0;i<list.length;i++){var item=list[i];var id=options.base?item[0]+options.base:item[0];var count=idCountMap[id]||0;var identifier=\\"\\".concat(id,\\" \\").concat(count);idCountMap[id]=count+1;var index=getIndexByIdentifier(identifier);var obj={css:item[1],media:item[2],sourceMap:item[3]};if(index!==-1){stylesInDom[index].references++;stylesInDom[index].updater(obj)}else{stylesInDom.push({identifier:identifier,updater:addStyle(obj,options),references:1})}identifiers.push(identifier)}return identifiers}function insertStyleElement(options){var style=document.createElement(\\"style\\");var attributes=options.attributes||{};if(typeof attributes.nonce===\\"undefined\\"){var nonce=true?__webpack_require__.nc:0;if(nonce){attributes.nonce=nonce}}Object.keys(attributes).forEach(function(key){style.setAttribute(key,attributes[key])});if(typeof options.insert===\\"function\\"){options.insert(style)}else{var target=getTarget(options.insert||\\"head\\");if(!target){throw new Error(\\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\\")}target.appendChild(style)}return style}function removeStyleElement(style){if(style.parentNode===null){return false}style.parentNode.removeChild(style)}var replaceText=function replaceText(){var textStore=[];return function replace(index,replacement){textStore[index]=replacement;return textStore.filter(Boolean).join(\\"\\\\n\\")}}();function applyToSingletonTag(style,index,remove,obj){var css=remove?\\"\\":obj.media?\\"@media \\".concat(obj.media,\\" {\\").concat(obj.css,\\"}\\"):obj.css;if(style.styleSheet){style.styleSheet.cssText=replaceText(index,css)}else{var cssNode=document.createTextNode(css);var childNodes=style.childNodes;if(childNodes[index]){style.removeChild(childNodes[index])}if(childNodes.length){style.insertBefore(cssNode,childNodes[index])}else{style.appendChild(cssNode)}}}function applyToTag(style,options,obj){var css=obj.css;var media=obj.media;var sourceMap=obj.sourceMap;if(media){style.setAttribute(\\"media\\",media)}else{style.removeAttribute(\\"media\\")}if(sourceMap&&typeof btoa!==\\"undefined\\"){css+=\\"\\\\n/*# sourceMappingURL=data:application/json;base64,\\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))),\\" */\\")}if(style.styleSheet){style.styleSheet.cssText=css}else{while(style.firstChild){style.removeChild(style.firstChild)}style.appendChild(document.createTextNode(css))}}var singleton=null;var singletonCounter=0;function addStyle(obj,options){var style;var update;var remove;if(options.singleton){var styleIndex=singletonCounter++;style=singleton||(singleton=insertStyleElement(options));update=applyToSingletonTag.bind(null,style,styleIndex,false);remove=applyToSingletonTag.bind(null,style,styleIndex,true)}else{style=insertStyleElement(options);update=applyToTag.bind(null,style,options);remove=function remove(){removeStyleElement(style)}}update(obj);return function updateStyle(newObj){if(newObj){if(newObj.css===obj.css&&newObj.media===obj.media&&newObj.sourceMap===obj.sourceMap){return}update(obj=newObj)}else{remove()}}}module.exports=function(list,options){options=options||{};if(!options.singleton&&typeof options.singleton!==\\"boolean\\"){options.singleton=isOldIE()}list=list||[];var lastIdentifiers=modulesToDom(list,options);return function update(newList){newList=newList||[];if(Object.prototype.toString.call(newList)!==\\"[object Array]\\"){return}for(var i=0;i<lastIdentifiers.length;i++){var identifier=lastIdentifiers[i];var index=getIndexByIdentifier(identifier);stylesInDom[index].references--}var newLastIdentifiers=modulesToDom(newList,options);for(var _i=0;_i<lastIdentifiers.length;_i++){var _identifier=lastIdentifiers[_i];var _index=getIndexByIdentifier(_identifier);if(stylesInDom[_index].references===0){stylesInDom[_index].updater();stylesInDom.splice(_index,1)}}lastIdentifiers=newLastIdentifiers}}},21:function(__unused_webpack_module,__unused_webpack_exports,__webpack_require__){__webpack_require__.p=window.__osdPublicPath__[\\"bar\\"];__webpack_require__.nc=window.__webpack_nonce__||\\"\\"},224:function(__unused_webpack_module,__unused_webpack_exports,__webpack_require__){switch(window.__osdThemeTag__){case\\"v7dark\\":return __webpack_require__(904);case\\"v7light\\":return __webpack_require__(782);case\\"v8dark\\":return __webpack_require__(347);case\\"v8light\\":return __webpack_require__(431);case\\"v9dark\\":return __webpack_require__(974);case\\"v9light\\":return __webpack_require__(992)}},922:function(__unused_webpack_module,__unused_webpack_exports,__webpack_require__){switch(window.__osdThemeTag__){case\\"v7dark\\":return __webpack_require__(346);case\\"v7light\\":return __webpack_require__(256);case\\"v8dark\\":return __webpack_require__(265);case\\"v8light\\":return __webpack_require__(517);case\\"v9dark\\":return __webpack_require__(332);case\\"v9light\\":return __webpack_require__(894)}},473:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){\\"use strict\\";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{barLibFn:()=>barLibFn,fooLibFn:()=>foo_public.fooLibFn});var styles=__webpack_require__(922);var public_0=__webpack_require__(224);var foo_public=__webpack_require__(148);function barLibFn(){return\\"bar\\"};},148:function(module){module.exports=__osdBundles__.get(\\"plugin/foo/public\\")}};var __webpack_module_cache__={};function __webpack_require__(moduleId){var cachedModule=__webpack_module_cache__[moduleId];if(cachedModule!==undefined){return cachedModule.exports}var module=__webpack_module_cache__[moduleId]={id:moduleId,exports:{}};__webpack_modules__[moduleId](module,module.exports,__webpack_require__);return module.exports}(()=>{__webpack_require__.n=module=>{var getter=module&&module.__esModule?()=>module[\\"default\\"]:()=>module;__webpack_require__.d(getter,{a:getter});return getter}})();(()=>{__webpack_require__.d=(exports,definition)=>{for(var key in definition){if(__webpack_require__.o(definition,key)&&!__webpack_require__.o(exports,key)){Object.defineProperty(exports,key,{enumerable:true,get:definition[key]})}}}})();(()=>{__webpack_require__.g=(()=>{if(typeof globalThis===\\"object\\")return globalThis;try{return this||new Function(\\"return this\\")()}catch(e){if(typeof window===\\"object\\")return window}})()})();(()=>{__webpack_require__.o=(obj,prop)=>Object.prototype.hasOwnProperty.call(obj,prop)})();(()=>{__webpack_require__.r=exports=>{if(typeof Symbol!==\\"undefined\\"&&Symbol.toStringTag){Object.defineProperty(exports,Symbol.toStringTag,{value:\\"Module\\"})}Object.defineProperty(exports,\\"__esModule\\",{value:true})}})();(()=>{__webpack_require__.nc=undefined})();(()=>{__webpack_require__.rv=()=>\\"1.6.4\\"})();(()=>{var scriptUrl;if(__webpack_require__.g.importScripts)scriptUrl=__webpack_require__.g.location+\\"\\";var document1=__webpack_require__.g.document;if(!scriptUrl&&document1){if(document1.currentScript&&document1.currentScript.tagName.toUpperCase()===\\"SCRIPT\\")scriptUrl=document1.currentScript.src;if(!scriptUrl){var scripts=document1.getElementsByTagName(\\"script\\");if(scripts.length){var i=scripts.length-1;while(i>-1&&(!scriptUrl||!/^http(s?):/.test(scriptUrl)))scriptUrl=scripts[i--].src}}}if(!scriptUrl)throw new Error(\\"Automatic publicPath is not supported in this browser\\");scriptUrl=scriptUrl.replace(/^blob:/,\\"\\").replace(/#.*$/,\\"\\").replace(/\\\\?.*$/,\\"\\").replace(/\\\\/[^\\\\/]+$/,\\"/\\");__webpack_require__.p=scriptUrl})();(()=>{__webpack_require__.ruid=\\"bundler=rspack@1.6.4\\"})();var __webpack_exports__={};(()=>{\\"use strict\\";var _node_modules_val_loader_dist_cjs_js_key_bar_osd_ui_shared_deps_public_path_module_creator_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(21);var _node_modules_val_loader_dist_cjs_js_key_bar_osd_ui_shared_deps_public_path_module_creator_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_val_loader_dist_cjs_js_key_bar_osd_ui_shared_deps_public_path_module_creator_js__WEBPACK_IMPORTED_MODULE_0__);__osdBundles__.define(\\"plugin/bar/public\\",()=>{return __webpack_require__(473)})})()})();"`;

exports[`prepares assets for distribution: foo bundle 1`] = `"(()=>{var __webpack_modules__={260:function(__unused_webpack_module,__unused_webpack_exports,__webpack_require__){__webpack_require__.p=window.__osdPublicPath__[\\"foo\\"];__webpack_require__.nc=window.__webpack_nonce__||\\"\\"},900:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){\\"use strict\\";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{getFoo:()=>getFoo,ext:()=>ext,fooLibFn:()=>fooLibFn});function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done)resolve(value);else Promise.resolve(value).then(_next,_throw)}function _async_to_generator(fn){return function(){var self1=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self1,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,\\"next\\",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,\\"throw\\",err)}_next(undefined)})}};const external_osdSharedDeps_TsLib_namespaceObject=__osdSharedDeps__.TsLib;function fooLibFn(){return\\"foo\\"};var ext=\\"TRUE\\";function getFoo(){return _async_to_generator(function(){return(0,external_osdSharedDeps_TsLib_namespaceObject.__generator)(this,function(_state){switch(_state.label){case 0:return[4,__webpack_require__.e(\\"0\\").then(__webpack_require__.bind(__webpack_require__,217))];case 1:return[2,_state.sent()]}})})()}}};var __webpack_module_cache__={};function __webpack_require__(moduleId){var cachedModule=__webpack_module_cache__[moduleId];if(cachedModule!==undefined){return cachedModule.exports}var module=__webpack_module_cache__[moduleId]={exports:{}};__webpack_modules__[moduleId](module,module.exports,__webpack_require__);return module.exports}__webpack_require__.m=__webpack_modules__;(()=>{__webpack_require__.n=module=>{var getter=module&&module.__esModule?()=>module[\\"default\\"]:()=>module;__webpack_require__.d(getter,{a:getter});return getter}})();(()=>{__webpack_require__.d=(exports,definition)=>{for(var key in definition){if(__webpack_require__.o(definition,key)&&!__webpack_require__.o(exports,key)){Object.defineProperty(exports,key,{enumerable:true,get:definition[key]})}}}})();(()=>{__webpack_require__.f={};__webpack_require__.e=chunkId=>{return Promise.all(Object.keys(__webpack_require__.f).reduce((promises,key)=>{__webpack_require__.f[key](chunkId,promises);return promises},[]))}})();(()=>{__webpack_require__.u=chunkId=>{return\\"foo.chunk.\\"+chunkId+\\".js\\"}})();(()=>{__webpack_require__.g=(()=>{if(typeof globalThis===\\"object\\")return globalThis;try{return this||new Function(\\"return this\\")()}catch(e){if(typeof window===\\"object\\")return window}})()})();(()=>{__webpack_require__.o=(obj,prop)=>Object.prototype.hasOwnProperty.call(obj,prop)})();(()=>{var inProgress={};null;__webpack_require__.l=function(url,done,key,chunkId){if(inProgress[url]){inProgress[url].push(done);return}var script,needAttach;if(key!==undefined){var scripts=document.getElementsByTagName(\\"script\\");for(var i=0;i<scripts.length;i++){var s=scripts[i];if(s.getAttribute(\\"src\\")==url){script=s;break}}}if(!script){needAttach=true;script=document.createElement(\\"script\\");script.timeout=120;if(__webpack_require__.nc){script.setAttribute(\\"nonce\\",__webpack_require__.nc)}script.src=url}inProgress[url]=[done];var onScriptComplete=function(prev,event){script.onerror=script.onload=null;clearTimeout(timeout);var doneFns=inProgress[url];delete inProgress[url];script.parentNode&&script.parentNode.removeChild(script);doneFns&&doneFns.forEach(function(fn){return fn(event)});if(prev)return prev(event)};var timeout=setTimeout(onScriptComplete.bind(null,undefined,{type:\\"timeout\\",target:script}),12e4);script.onerror=onScriptComplete.bind(null,script.onerror);script.onload=onScriptComplete.bind(null,script.onload);needAttach&&document.head.appendChild(script)}})();(()=>{__webpack_require__.r=exports=>{if(typeof Symbol!==\\"undefined\\"&&Symbol.toStringTag){Object.defineProperty(exports,Symbol.toStringTag,{value:\\"Module\\"})}Object.defineProperty(exports,\\"__esModule\\",{value:true})}})();(()=>{__webpack_require__.nc=undefined})();(()=>{__webpack_require__.rv=()=>\\"1.6.4\\"})();(()=>{var scriptUrl;if(__webpack_require__.g.importScripts)scriptUrl=__webpack_require__.g.location+\\"\\";var document1=__webpack_require__.g.document;if(!scriptUrl&&document1){if(document1.currentScript&&document1.currentScript.tagName.toUpperCase()===\\"SCRIPT\\")scriptUrl=document1.currentScript.src;if(!scriptUrl){var scripts=document1.getElementsByTagName(\\"script\\");if(scripts.length){var i=scripts.length-1;while(i>-1&&(!scriptUrl||!/^http(s?):/.test(scriptUrl)))scriptUrl=scripts[i--].src}}}if(!scriptUrl)throw new Error(\\"Automatic publicPath is not supported in this browser\\");scriptUrl=scriptUrl.replace(/^blob:/,\\"\\").replace(/#.*$/,\\"\\").replace(/\\\\?.*$/,\\"\\").replace(/\\\\/[^\\\\/]+$/,\\"/\\");__webpack_require__.p=scriptUrl})();(()=>{var installedChunks={\\"1\\":0};__webpack_require__.f.j=function(chunkId,promises){var installedChunkData=__webpack_require__.o(installedChunks,chunkId)?installedChunks[chunkId]:undefined;if(installedChunkData!==0){if(installedChunkData){promises.push(installedChunkData[2])}else{if(true){var promise=new Promise((resolve,reject)=>installedChunkData=installedChunks[chunkId]=[resolve,reject]);promises.push(installedChunkData[2]=promise);var url=__webpack_require__.p+__webpack_require__.u(chunkId);var error=new Error;var loadingEnded=function(event){if(__webpack_require__.o(installedChunks,chunkId)){installedChunkData=installedChunks[chunkId];if(installedChunkData!==0)installedChunks[chunkId]=undefined;if(installedChunkData){var errorType=event&&(event.type===\\"load\\"?\\"missing\\":event.type);var realSrc=event&&event.target&&event.target.src;error.message=\\"Loading chunk \\"+chunkId+\\" failed.\\\\n(\\"+errorType+\\": \\"+realSrc+\\")\\";error.name=\\"ChunkLoadError\\";error.type=errorType;error.request=realSrc;installedChunkData[1](error)}}};__webpack_require__.l(url,loadingEnded,\\"chunk-\\"+chunkId,chunkId)}}}};var webpackJsonpCallback=(parentChunkLoadingFunction,data)=>{var chunkIds=data[0];var moreModules=data[1];var runtime=data[2];var moduleId,chunkId,i=0;if(chunkIds.some(id=>installedChunks[id]!==0)){for(moduleId in moreModules){if(__webpack_require__.o(moreModules,moduleId)){__webpack_require__.m[moduleId]=moreModules[moduleId]}}if(runtime)var result=runtime(__webpack_require__)}if(parentChunkLoadingFunction)parentChunkLoadingFunction(data);for(;i<chunkIds.length;i++){chunkId=chunkIds[i];if(__webpack_require__.o(installedChunks,chunkId)&&installedChunks[chunkId]){installedChunks[chunkId][0]()}installedChunks[chunkId]=0}};var chunkLoadingGlobal=self[\\"foo_bundle_jsonpfunction\\"]=self[\\"foo_bundle_jsonpfunction\\"]||[];chunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null,0));chunkLoadingGlobal.push=webpackJsonpCallback.bind(null,chunkLoadingGlobal.push.bind(chunkLoadingGlobal))})();(()=>{__webpack_require__.ruid=\\"bundler=rspack@1.6.4\\"})();var __webpack_exports__={};(()=>{\\"use strict\\";var _node_modules_val_loader_dist_cjs_js_key_foo_osd_ui_shared_deps_public_path_module_creator_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(260);var _node_modules_val_loader_dist_cjs_js_key_foo_osd_ui_shared_deps_public_path_module_creator_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_val_loader_dist_cjs_js_key_foo_osd_ui_shared_deps_public_path_module_creator_js__WEBPACK_IMPORTED_MODULE_0__);__osdBundles__.define(\\"plugin/foo/public\\",()=>{return __webpack_require__(900)})})()})();"`;
