/*
 * Copyright OpenSearch Contributors
 * SPDX-License-Identifier: Apache-2.0
 */

/*
 * Patch for the v8dark (eui-next) pre-built CSS bundle.
 *
 * The pre-built bundle (@elastic/eui/dist/eui_theme_next_dark.css) is compiled
 * with eui-next's native primary color (teal, ~#07827E). Our AWS color overrides
 * live in _globals_v8dark.scss and affect plugin SCSS files, but have no effect
 * on the pre-built bundle.
 *
 * This file is appended to the v8dark webpack entry so its rules come after the
 * pre-built bundle in the cascade and win.
 *
 * AWS v8dark palette (_globals_v8dark.scss):
 *   $ouiColorPrimary:        #006ce0  (AWS Blue — interactive)
 *   $ouiColorSecondary:      #00827d  (AWS Teal)
 *   $ouiColorAccent:         #ff9900  (AWS Orange)
 *   $ouiColorWarning:        #8d6605
 *   $ouiColorDanger:         #d91515
 *
 * Dark-mode derived values used in this patch:
 *   Primary (dark-bg readable):   #4da6ff  (AWS Blue — lightened for dark bg)
 *   Primary hover (lighten ~10%): #70baff
 *   Primary active (darken ~8%):  #3d9aee
 *   Primary subtle tint (focus):  rgba(77, 166, 255, 0.15)
 *   Focus ring rgba:              rgba(77, 166, 255, 0.3)
 *   Shadow base rgba:             rgba(0, 0, 0, 0.4)
 *   Page background:              #0d1926
 *   Light shade:                  #1f2d40
 *   Lightest shade:               #131c27
 *   Empty shade (darkest):        #0a1018
 */

/* ==========================================================================
   FONTS
   ========================================================================== */

/*
 * Override font family for the pre-built EUI bundle (unaffected by SCSS variable overrides).
 * Both --oui-font-family and --eui-font-family must be overridden since EUI components may
 * reference either. The body rule uses a literal value (not a CSS variable) so it wins even
 * if the variable declarations are later overridden by another stylesheet.
 */
:root {
  --oui-font-family: 'Lexend', -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';
  --eui-font-family: 'Lexend', -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';
}

body {
  font-family: 'Lexend', -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';
}

/* ==========================================================================
   FOCUS RINGS
   Keyframes reference rgba(7, 130, 126, ...) — replace with AWS Blue rgba
   (dark-mode variant, lightened for visibility on dark backgrounds).
   ========================================================================== */

@keyframes focusRingAnimate {
  0%   { box-shadow: 0 0 0  6px rgba(77, 166, 255, 0); }
  100% { box-shadow: 0 0 0  3px rgba(77, 166, 255, 0.3); }
}

@keyframes focusRingAnimateLarge {
  0%   { box-shadow: 0 0 0 10px rgba(77, 166, 255, 0); }
  100% { box-shadow: 0 0 0  4px rgba(77, 166, 255, 0.3); }
}

/* Outline-based focus rings used by ButtonGroup, ColorStops, FormControlLayout, Image */
.euiButtonGroup--compressed .euiButtonGroupButton:not([class*=isDisabled]):focus,
.euiColorStops:not(.euiColorStops-isDisabled):focus,
.euiFormControlLayout--group .euiButtonIcon:focus-visible,
.euiImage .euiImage__button:focus {
  outline: 2px solid rgba(77, 166, 255, 0.3);
}

.tvbVisGauge__label{
  padding:10px 0;
}

/* ==========================================================================
   LINKS & ANCHORS
   ========================================================================== */

a {
  color: #4da6ff;
}

.euiLink.euiLink--primary {
  color: #4da6ff;
}
.euiLink.euiLink--primary:hover,
.euiLink.euiLink--primary:focus {
  color: #70baff;
}
.euiLink.euiLink--primary:focus,
.euiLink:focus {
  background: rgba(77, 166, 255, 0.15);
}

/* ==========================================================================
   BUTTON — filled and outlined primary variants
   ========================================================================== */

/* Spinner color (used when button is disabled but still loading) */
.euiButton.euiButton-isDisabled .euiButtonContent__spinner,
.euiButtonEmpty:disabled .euiButtonContent__spinner,
.euiButtonIcon.euiButtonIcon-isDisabled .euiButtonContent__spinner,
.euiButtonGroupButton.euiButtonGroupButton-isDisabled .euiButtonContent__spinner {
  border-color: #4da6ff currentColor currentColor currentColor;
}

/* Outlined (default) primary button */
.euiButton--primary {
  color: #4da6ff;
  border-color: #4da6ff;
}
.euiButton--primary.euiButton--fill {
  background-color: #006ce0;
  border-color: #006ce0;
  color: #ffffff;
}
.euiButton--primary.euiButton--fill:not([class*=isDisabled]):hover,
.euiButton--primary.euiButton--fill:not([class*=isDisabled]):focus,
.euiButton--primary.euiButton--fill:not([class*=isDisabled]):focus-within {
  background-color: #005bbf;
  border-color: #005bbf;
}
.euiButton--primary.euiButton--fill:not([class*=isDisabled]):active {
  box-shadow: inset 1px 2px 8px rgba(0, 0, 0, 0.4);
}
.euiButton--primary:not([class*=isDisabled]) {
  box-shadow: 0 2px 2px -1px rgba(0, 0, 0, 0.4);
}
.euiButton--primary:not([class*=isDisabled]):hover,
.euiButton--primary:not([class*=isDisabled]):focus,
.euiButton--primary:not([class*=isDisabled]):focus-within {
  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.25), 0 2px 2px -1px rgba(0, 0, 0, 0.4);
  background-color: rgba(77, 166, 255, 0.1);
}
.euiButton--primary:not([class*=isDisabled]):active {
  box-shadow: inset 1px 2px 8px rgba(77, 166, 255, 0.15);
}

/* ==========================================================================
   BUTTON EMPTY — ghost/text-style primary buttons
   ========================================================================== */

.euiButtonEmpty--primary {
  color: #4da6ff;
}
.euiButtonEmpty--primary:focus {
  background-color: rgba(77, 166, 255, 0.1);
}

/* ==========================================================================
   BUTTON ICON — icon-only primary buttons
   ========================================================================== */

.euiButtonIcon--primary {
  color: #4da6ff;
  border-color: #4da6ff;
}
.euiButtonIcon--primary.euiButtonIcon--fill {
  background-color: #006ce0;
  border-color: #006ce0;
}
.euiButtonIcon--primary.euiButtonIcon--fill:not([class*=isDisabled]):hover,
.euiButtonIcon--primary.euiButtonIcon--fill:not([class*=isDisabled]):focus,
.euiButtonIcon--primary.euiButtonIcon--fill:not([class*=isDisabled]):focus-within {
  background-color: #005bbf;
  border-color: #005bbf;
}

/* ==========================================================================
   BUTTON GROUP — segmented primary buttons
   ========================================================================== */

.euiButtonGroupButton--primary {
  color: #4da6ff;
  border-color: #4da6ff;
}
.euiButtonGroupButton--primary.euiButtonGroupButton--fill,
.euiButtonGroupButton--primary.euiButtonGroupButton-isSelected {
  background-color: #006ce0;
  border-color: #006ce0;
  color: #ffffff;
}

/* ==========================================================================
   HEADER
   ========================================================================== */

/* Dark-mode header: background uses AWS Teal, border uses dark shade */
.euiHeader {
  background: #00827d;
  border-bottom: 1px solid #1f2d40;
  box-shadow: 0 2px 2px -1px rgba(0, 0, 0, 0.4), 0 1px 5px -2px rgba(0, 0, 0, 0.4);
}

/* Divider line between header sections */
.euiHeaderSectionItem:after {
  background: #1f2d40;
}

/* Notification dot/badge outlines use page background */
.euiHeaderSectionItemButton__notification--dot {
  stroke: #0d1926;
}
.euiHeaderSectionItemButton__notification--badge {
  box-shadow: 0 0 0 1px #0d1926;
}

/* Logo focus state */
.euiHeaderLogo:focus {
  background: #003a7a;
}

/* Active link uses lightened AWS Blue for visibility on dark/teal header */
.euiHeaderLink-isActive {
  color: #4da6ff;
}
.euiHeaderLogo:focus,
.euiHeaderLink:focus,
.euiHeaderSectionItemButton:focus {
  background: #003a7a;
}
.euiHeaderSectionItemButton__notification--badge {
  box-shadow: 0 0 0 1px #0d1926;
}

.euiHeader--default {
  background-color: #131c27;
}

/* ==========================================================================
   SIDEBAR / COLLAPSIBLE NAV
   ========================================================================== */

.euiCollapsibleNav.euiFlyout,
.euiCollapsibleNavGroup {
  background-color: #131c27;
}
.euiCollapsibleNavGroup:not(:first-child) {
  border-top: 1px solid #1f2d40;
}

/* Selected nav item uses lightened AWS Blue */
.euiSideNavItemButton.euiSideNavItemButton-isSelected {
  color: #4da6ff;
}

/* Branch guide lines use dark shade */
.euiSideNavItem--branch::after,
.euiSideNavItem--branch > .euiSideNavItemButton:after {
  background: #1f2d40;
}

/* ==========================================================================
   CARD
   ========================================================================== */

/* Selected state border uses lightened AWS Blue */
.euiCard--isSelectable--primary.euiCard-isSelected:not(.euiCard-isDisabled) {
  border-color: #4da6ff !important;
}

/* Card select button highlight */
.euiCardSelect--primary:enabled {
  background-color: rgba(77, 166, 255, 0.15);
}

/* Checkable card selected border */
.euiCheckableCard:not(.euiCheckableCard-isDisabled).euiCheckableCard-isChecked {
  border-color: #4da6ff;
}

/* ==========================================================================
   FORM INPUTS
   ========================================================================== */

/* Field text: match v8dark background and text */
.euiFieldText {
  background-color: #131c27;
  color: #c9cfd6;
  box-shadow:
    0 1px 1px -1px rgba(0, 0, 0, 0.3),
    0 3px 2px -2px rgba(0, 0, 0, 0.3),
    inset 0 0 0 1px rgba(255, 255, 255, 0.1);
}
/* Focus underline switches from teal to AWS Blue */
.euiFieldText:focus {
  background-color: #0a1018;
  background-image: linear-gradient(to top, #4da6ff, #4da6ff 2px, transparent 2px, transparent 100%);
  box-shadow:
    0 1px 1px -1px rgba(0, 0, 0, 0.3),
    0 4px 4px -2px rgba(0, 0, 0, 0.3),
    inset 0 0 0 1px rgba(255, 255, 255, 0.1);
}

/* FormControlLayout group (input with appended button) */
.euiFormControlLayout--group {
  background-color: #131c27;
  box-shadow:
    0 1px 1px -1px rgba(0, 0, 0, 0.3),
    0 3px 2px -2px rgba(0, 0, 0, 0.3),
    inset 0 0 0 1px rgba(255, 255, 255, 0.1);
}

/* Focused label */
.euiFormLabel.euiFormLabel-isFocused {
  color: #4da6ff;
}

/* ComboBox open focus underline */
.euiComboBox.euiComboBox-isOpen .euiComboBox__inputWrap {
  background-image: linear-gradient(to top, #4da6ff, #4da6ff 2px, transparent 2px, transparent 100%);
}

/* ComboBox focused option highlight */
.euiComboBoxOption.euiComboBoxOption-isFocused {
  color: #4da6ff;
  background-color: rgba(77, 166, 255, 0.15);
}

/* Date picker selected time */
.react-datepicker__time-container
  .react-datepicker__time
  .react-datepicker__time-box
  ul.react-datepicker__time-list
  li.react-datepicker__time-list-item--selected {
  background-color: #006ce0;
}

/* Select field (euiSelect) focus underline */
.euiSelect:focus {
  background-image: linear-gradient(to top, #4da6ff, #4da6ff 2px, transparent 2px, transparent 100%);
}

/* Checkbox — checked state */
.euiCheckbox .euiCheckbox__input:checked + .euiCheckbox__square {
  border-color: #006ce0;
  background-color: #006ce0;
}

/* Radio — checked state */
.euiRadio .euiRadio__input:checked + .euiRadio__circle {
  border-color: #006ce0;
  background-color: #006ce0;
}

/* Switch — checked state (primary variant) */
.euiSwitch--primary .euiSwitch__body {
  background-color: #006ce0;
}
.euiSwitch--primary.euiSwitch--compressed .euiSwitch__button[aria-checked=true] .euiSwitch__thumb {
  border-color: #006ce0;
}

/* Color picker hue slider focus */
.euiHue__range:focus::-webkit-slider-thumb {
  box-shadow: 0 0 0 3px rgba(77, 166, 255, 0.3);
  border-color: #4da6ff;
}
.euiHue__range:focus::-moz-range-thumb {
  box-shadow: 0 0 0 3px rgba(77, 166, 255, 0.3);
  border-color: #4da6ff;
}

/* ==========================================================================
   CALLOUT (informational banners — primary variant)
   ========================================================================== */

.euiCallOut--primary {
  border-color: #4da6ff;
  background-color: rgba(77, 166, 255, 0.1);
}
.euiCallOut--primary .euiCallOutHeader__icon {
  fill: #4da6ff;
}
.euiCallOut--primary .euiCallOutHeader__title {
  color: #4da6ff;
}

/* ==========================================================================
   ACCORDION — icon/button focus
   ========================================================================== */

.euiAccordion__button:focus .euiAccordion__iconWrapper {
  color: #4da6ff;
}
.euiAccordion__iconButton:focus {
  color: #4da6ff;
}

/* ==========================================================================
   CONTEXT MENU — focused item
   ========================================================================== */

.euiContextMenuItem:focus {
  background-color: rgba(77, 166, 255, 0.15);
}

/* ==========================================================================
   CONTROL BAR — active tab indicator
   ========================================================================== */

.euiControlBar__tab.euiControlBar__tab--active {
  box-shadow: inset 0 4px 0 #4da6ff;
  color: #4da6ff;
}

/* ==========================================================================
   CODE EDITOR — keyboard hint focus
   ========================================================================== */

.euiCodeEditorKeyboardHint:focus {
  border: 2px solid #4da6ff;
}


/* MISCELLANEOUS */

.euiSuperDatePicker__prettyFormatLink {
  color: #4da6ff;
}
