/*
 * Copyright OpenSearch Contributors
 * SPDX-License-Identifier: Apache-2.0
 */

/*
 * Patch for the v8light (eui-next) pre-built CSS bundle.
 *
 * The pre-built bundle (@elastic/eui/dist/eui_theme_next_light.css) is compiled
 * with eui-next's native primary color (teal, ~#07827E). Our AWS color overrides
 * live in _globals_v8light.scss and affect plugin SCSS files, but have no effect
 * on the pre-built bundle.
 *
 * This file is appended to the v8light webpack entry so its rules come after the
 * pre-built bundle in the cascade and win.
 *
 * AWS v8light palette (_globals_v8light.scss):
 *   $ouiColorPrimary:        #006ce0  (AWS Blue — interactive)
 *   $ouiColorSecondary:      #00827d  (AWS Teal)
 *   $ouiColorAccent:         #ff9900  (AWS Orange)
 *   $ouiColorWarning:        #8d6605
 *   $ouiColorDanger:         #d91515
 *   $ouiPageBackgroundColor: #f2f3f3
 *   $ouiColorLightShade:     #eaeded
 *   $ouiColorLightestShade:  #f2f3f3
 *   $ouiColorEmptyShade:     #ffffff
 *   $ouiColorMediumShade:    #879596
 *   $ouiColorDarkestShade:   #16191f
 *   $ouiTextColor:           #16191f
 *
 * Derived values:
 *   Primary hover (darken ~8%):   #005bbf
 *   Primary active (darken ~16%): #004da6
 *   Primary light tint (focus):   #dceeff
 *   Focus ring rgba:              rgba(0, 108, 224, 0.3)
 *   Shadow base rgba:             rgba(0, 55, 112, 0.3)
 */

/* ==========================================================================
   FONTS
   ========================================================================== */

/*
 * Override font family for the pre-built EUI bundle (unaffected by SCSS variable overrides).
 * Both --oui-font-family and --eui-font-family must be overridden since EUI components may
 * reference either. The body rule uses a literal value (not a CSS variable) so it wins even
 * if the variable declarations are later overridden by another stylesheet.
 */
:root {
  --oui-font-family: 'Lexend', -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';
  --eui-font-family: 'Lexend', -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';
}

body {
  font-family: 'Lexend', -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';
}

/* ==========================================================================
   FOCUS RINGS
   Keyframes reference rgba(7, 130, 126, ...) — replace with AWS Blue rgba.
   ========================================================================== */

@keyframes focusRingAnimate {
  0%   { box-shadow: 0 0 0  6px rgba(0, 108, 224, 0); }
  100% { box-shadow: 0 0 0  3px rgba(0, 108, 224, 0.3); }
}

@keyframes focusRingAnimateLarge {
  0%   { box-shadow: 0 0 0 10px rgba(0, 108, 224, 0); }
  100% { box-shadow: 0 0 0  4px rgba(0, 108, 224, 0.3); }
}

/* Outline-based focus rings used by ButtonGroup, ColorStops, FormControlLayout, Image */
.euiButtonGroup--compressed .euiButtonGroupButton:not([class*=isDisabled]):focus,
.euiColorStops:not(.euiColorStops-isDisabled):focus,
.euiFormControlLayout--group .euiButtonIcon:focus-visible,
.euiImage .euiImage__button:focus {
  outline: 2px solid rgba(0, 108, 224, 0.3);
}

/* ==========================================================================
   LINKS & ANCHORS
   ========================================================================== */

a {
  color: #006ce0;
}

.euiLink.euiLink--primary {
  color: #006ce0;
}
.euiLink.euiLink--primary:hover,
.euiLink.euiLink--primary:focus {
  color: #004da6;
}
.euiLink.euiLink--primary:focus,
.euiLink:focus {
  background: #dceeff;
}

/* ==========================================================================
   BUTTON — filled and outlined primary variants
   ========================================================================== */

/* Spinner color (used when button is disabled but still loading) */
.euiButton.euiButton-isDisabled .euiButtonContent__spinner,
.euiButtonEmpty:disabled .euiButtonContent__spinner,
.euiButtonIcon.euiButtonIcon-isDisabled .euiButtonContent__spinner,
.euiButtonGroupButton.euiButtonGroupButton-isDisabled .euiButtonContent__spinner {
  border-color: #006ce0 currentColor currentColor currentColor;
}

/* Outlined (default) primary button */
.euiButton--primary {
  color: #006ce0;
  border-color: #006ce0;
}
.euiButton--primary.euiButton--fill {
  background-color: #006ce0;
  border-color: #006ce0;
  color: #ffffff;
}
.euiButton--primary.euiButton--fill:not([class*=isDisabled]):hover,
.euiButton--primary.euiButton--fill:not([class*=isDisabled]):focus,
.euiButton--primary.euiButton--fill:not([class*=isDisabled]):focus-within {
  background-color: #005bbf;
  border-color: #005bbf;
}
.euiButton--primary.euiButton--fill:not([class*=isDisabled]):active {
  box-shadow: inset 1px 2px 8px rgba(0, 45, 90, 0.4);
}
.euiButton--primary:not([class*=isDisabled]) {
  box-shadow: 0 2px 2px -1px rgba(0, 55, 112, 0.3);
}
.euiButton--primary:not([class*=isDisabled]):hover,
.euiButton--primary:not([class*=isDisabled]):focus,
.euiButton--primary:not([class*=isDisabled]):focus-within {
  box-shadow: 0 4px 8px 0 rgba(0, 55, 112, 0.15), 0 2px 2px -1px rgba(0, 55, 112, 0.3);
  background-color: rgba(0, 108, 224, 0.1);
}
.euiButton--primary:not([class*=isDisabled]):active {
  box-shadow: inset 1px 2px 8px rgba(0, 108, 224, 0.15);
}

/* ==========================================================================
   BUTTON EMPTY — ghost/text-style primary buttons
   (Add data, Manage, Dev tools top nav + footer links)
   ========================================================================== */

.euiButtonEmpty--primary {
  color: #006ce0;
}
.euiButtonEmpty--primary:focus {
  background-color: rgba(0, 108, 224, 0.1);
}

/* ==========================================================================
   BUTTON ICON — icon-only primary buttons
   ========================================================================== */

.euiButtonIcon--primary {
  color: #006ce0;
  border-color: #006ce0;
}
.euiButtonIcon--primary.euiButtonIcon--fill {
  background-color: #006ce0;
  border-color: #006ce0;
}
.euiButtonIcon--primary.euiButtonIcon--fill:not([class*=isDisabled]):hover,
.euiButtonIcon--primary.euiButtonIcon--fill:not([class*=isDisabled]):focus,
.euiButtonIcon--primary.euiButtonIcon--fill:not([class*=isDisabled]):focus-within {
  background-color: #005bbf;
  border-color: #005bbf;
}

/* ==========================================================================
   BUTTON GROUP — segmented primary buttons
   ========================================================================== */

.euiButtonGroupButton--primary {
  color: #006ce0;
  border-color: #006ce0;
}
.euiButtonGroupButton--primary.euiButtonGroupButton--fill,
.euiButtonGroupButton--primary.euiButtonGroupButton-isSelected {
  background-color: #006ce0;
  border-color: #006ce0;
  color: #ffffff;
}

/* ==========================================================================
   HEADER
   ========================================================================== */

/* Light-mode header: background and border match v8light page palette */
.euiHeader {
  background: #00827d;
  border-bottom: 1px solid #eaeded;
  box-shadow: 0 2px 2px -1px rgba(135, 149, 150, 0.3), 0 1px 5px -2px rgba(135, 149, 150, 0.3);
}

/* Divider line between header sections */
.euiHeaderSectionItem:after {
  background: #eaeded;
}

/* Notification dot/badge outlines use page background */
.euiHeaderSectionItemButton__notification--dot {
  stroke: #f2f3f3;
}
.euiHeaderSectionItemButton__notification--badge {
  box-shadow: 0 0 0 1px #f2f3f3;
}

/* Logo focus state */
.euiHeaderLogo:focus {
  background: #dceeff;
}

/* Dark-mode header: active link uses AWS Blue instead of teal */
.euiHeader--dark .euiHeaderLink-isActive {
  color: #4da6ff;
}
.euiHeader--dark .euiHeaderLogo:focus,
.euiHeader--dark .euiHeaderLink:focus,
.euiHeader--dark .euiHeaderSectionItemButton:focus {
  background: #003a7a;
}
.euiHeader--dark .euiHeaderSectionItemButton__notification--badge {
  box-shadow: 0 0 0 1px #172430;
}

/* ==========================================================================
   SIDEBAR / COLLAPSIBLE NAV
   ========================================================================== */

.euiCollapsibleNav.euiFlyout,
.euiCollapsibleNavGroup {
  background-color: #f2f3f3;
}
.euiCollapsibleNavGroup:not(:first-child) {
  border-top: 1px solid #eaeded;
}

/* Selected nav item uses AWS Blue */
.euiSideNavItemButton.euiSideNavItemButton-isSelected {
  color: #006ce0;
}

/* Branch guide lines use v8light light shade */
.euiSideNavItem--branch::after,
.euiSideNavItem--branch > .euiSideNavItemButton:after {
  background: #eaeded;
}

/* ==========================================================================
   CARD
   ========================================================================== */

/* Selected state border uses AWS Blue */
.euiCard--isSelectable--primary.euiCard-isSelected:not(.euiCard-isDisabled) {
  border-color: #006ce0 !important;
}

/* Card select button highlight */
.euiCardSelect--primary:enabled {
  background-color: #dceeff;
}

/* Checkable card selected border */
.euiCheckableCard:not(.euiCheckableCard-isDisabled).euiCheckableCard-isChecked {
  border-color: #006ce0;
}

/* ==========================================================================
   FORM INPUTS
   ========================================================================== */

/* Field text: match v8light background and text */
.euiFieldText {
  background-color: #f2f3f3;
  color: #16191f;
  box-shadow:
    0 1px 1px -1px rgba(135, 149, 150, 0.2),
    0 3px 2px -2px rgba(135, 149, 150, 0.2),
    inset 0 0 0 1px rgba(22, 25, 31, 0.1);
}
/* Focus underline switches from teal to AWS Blue */
.euiFieldText:focus {
  background-color: #ffffff;
  background-image: linear-gradient(to top, #006ce0, #006ce0 2px, transparent 2px, transparent 100%);
  box-shadow:
    0 1px 1px -1px rgba(135, 149, 150, 0.2),
    0 4px 4px -2px rgba(135, 149, 150, 0.2),
    inset 0 0 0 1px rgba(22, 25, 31, 0.1);
}

/* FormControlLayout group (input with appended button) */
.euiFormControlLayout--group {
  background-color: #f2f3f3;
  box-shadow:
    0 1px 1px -1px rgba(135, 149, 150, 0.2),
    0 3px 2px -2px rgba(135, 149, 150, 0.2),
    inset 0 0 0 1px rgba(22, 25, 31, 0.1);
}

/* Focused label */
.euiFormLabel.euiFormLabel-isFocused {
  color: #006ce0;
}

/* ComboBox open focus underline */
.euiComboBox.euiComboBox-isOpen .euiComboBox__inputWrap {
  background-image: linear-gradient(to top, #006ce0, #006ce0 2px, transparent 2px, transparent 100%);
}

/* ComboBox focused option highlight */
.euiComboBoxOption.euiComboBoxOption-isFocused {
  color: #006ce0;
  background-color: #dceeff;
}

/* Date picker selected time */
.react-datepicker__time-container
  .react-datepicker__time
  .react-datepicker__time-box
  ul.react-datepicker__time-list
  li.react-datepicker__time-list-item--selected {
  background-color: #006ce0;
}

/* Select field (euiSelect) focus underline */
.euiSelect:focus {
  background-image: linear-gradient(to top, #006ce0, #006ce0 2px, transparent 2px, transparent 100%);
}

/* Checkbox — checked state */
.euiCheckbox .euiCheckbox__input:checked + .euiCheckbox__square {
  border-color: #006ce0;
  background-color: #006ce0;
}

/* Radio — checked state */
.euiRadio .euiRadio__input:checked + .euiRadio__circle {
  border-color: #006ce0;
  background-color: #006ce0;
}

/* Switch — checked state (primary variant) */
.euiSwitch--primary .euiSwitch__body {
  background-color: #006ce0;
}
.euiSwitch--primary.euiSwitch--compressed .euiSwitch__button[aria-checked=true] .euiSwitch__thumb {
  border-color: #006ce0;
}

/* Color picker hue slider focus */
.euiHue__range:focus::-webkit-slider-thumb {
  box-shadow: 0 0 0 3px rgba(0, 108, 224, 0.3);
  border-color: #006ce0;
}
.euiHue__range:focus::-moz-range-thumb {
  box-shadow: 0 0 0 3px rgba(0, 108, 224, 0.3);
  border-color: #006ce0;
}

/* ==========================================================================
   CALLOUT (informational banners — primary variant)
   ========================================================================== */

.euiCallOut--primary {
  border-color: #006ce0;
  background-color: #dceeff;
}
.euiCallOut--primary .euiCallOutHeader__icon {
  fill: #006ce0;
}
.euiCallOut--primary .euiCallOutHeader__title {
  color: #006ce0;
}

/* ==========================================================================
   ACCORDION — icon/button focus
   ========================================================================== */

.euiAccordion__button:focus .euiAccordion__iconWrapper {
  color: #006ce0;
}
.euiAccordion__iconButton:focus {
  color: #006ce0;
}

/* ==========================================================================
   CONTEXT MENU — focused item
   ========================================================================== */

.euiContextMenuItem:focus {
  background-color: #dceeff;
}

/* ==========================================================================
   CONTROL BAR — active tab indicator
   ========================================================================== */

.euiControlBar__tab.euiControlBar__tab--active {
  box-shadow: inset 0 4px 0 #006ce0;
  color: #006ce0;
}

/* ==========================================================================
   CODE EDITOR — keyboard hint focus
   ========================================================================== */

.euiCodeEditorKeyboardHint:focus {
  border: 2px solid #006ce0;
}
